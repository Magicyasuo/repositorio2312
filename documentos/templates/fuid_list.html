{% load custom_filters %}
{% load static %}

<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lista de FUIDs</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <link rel="stylesheet" href="{% static 'css/styles.css' %}">

    <!-- Animate.css -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    
    <!-- Anime.js -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js"></script>

    <!-- <style>
        body {
            background: linear-gradient(135deg, #ffffff, #f0f0f0);
            font-family: Arial, sans-serif;
        }
        .navbar {
            background-color: #003366 !important;
        }
        .navbar-brand, .navbar-nav .nav-link, .navbar-text a {
            color: #ffffff !important;
            transition: color 0.2s ease;
        }
        .navbar-nav .nav-link:hover {
            color: #cce5ff !important;
        }
        h1 {
            color: #003366;
            font-weight: 700;
        }
        .btn-primary {
            background-color: #0069d9 !important;
            border: none;
            transition: transform 0.2s ease;
        }
        .btn-primary:hover {
            background-color: #005bb5 !important;
            transform: scale(1.05);
        }
        .table {
            box-shadow: 0 2px 10px rgba(0,0,0,0.05);
        }
        .table-striped tbody tr:hover {
            background-color: #f8f9fa;
        }
        .btn-warning {
            background-color: #ffc107 !important;
            border: none;
            transition: transform 0.2s ease;
        }
        .btn-warning:hover {
            background-color: #e0a800 !important;
            transform: scale(1.05);
        }
        .btn-info {
            background-color: #17a2b8 !important;
            border: none;
            transition: transform 0.2s ease;
        }
        .btn-info:hover {
            background-color: #138496 !important;
            transform: scale(1.05);
        }

        /* Para la animación de aparición */
        #mainContainer {
            opacity: 0;
        }
        /* Fade-in al navbar */
        nav.navbar {
            opacity: 0;
        }
    </style> -->
</head>
<body>
</main>
    <nav class="navbar navbar-light bg-light mb-4 animate__animated animate__fadeInDown animate__delay-1s">
        <div class="container-fluid">
            <a class="navbar-brand d-flex align-items-center" href="/">
                <i class="bi bi-archive-fill text-primary me-2" style="font-size:1.5rem;"></i>
                Hospital del Sarare
            </a>
            <span class="navbar-text">
                {% if request.user.is_authenticated %}
                    Bienvenido, {{ request.user.username }} | <a href="{% url 'logout' %}">Cerrar sesión</a>
                {% else %}
                    <a href="{% url 'login' %}">Iniciar sesión</a>
                {% endif %}
            </span>
        </div>
    </nav>

<div class="container animate__animated animate__fadeInUp" id="mainContainer">
    <div class="d-flex justify-content-between align-items-center mb-3">
        <h1 class="animate__animated animate__fadeInDown">Lista de FUIDs</h1>
        <a href="{% url 'crear_fuid' %}" class="btn btn-primary animate__animated animate__fadeInDown animate__delay-1s">
            <i class="bi bi-folder-plus"></i> Crear FUID
        </a>
    </div>

    <table class="table table-striped table-bordered animate__animated animate__fadeInUp animate__delay-1s" id="fuidTable">
        <thead>
            <tr>
                <th>ID</th>
                <th>Entidad Productora</th>
                <th>Unidad Administrativa</th>
                <th>Oficina Productora</th>
                <th>Objeto</th>
                <th>Fecha de Creación</th>
                <th>Acciones</th>
            </tr>
        </thead>
        <tbody>
            {% for fuid in fuids %}
            <tr>
                <td>{{ fuid.id }}</td>
                <td>{{ fuid.entidad_productora }}</td>
                <td>{{ fuid.unidad_administrativa }}</td>
                <td>{{ fuid.oficina_productora }}</td>
                <td>{{ fuid.objeto }}</td>
                <td>{{ fuid.fecha_creacion|date:"Y-m-d" }}</td>
                <td>
                    <a href="{% url 'editar_fuid' fuid.id %}" class="btn btn-warning btn-sm"><i class="bi bi-pencil-square"></i> Editar</a>
                    <a href="{% url 'detalle_fuid' fuid.id %}" class="btn btn-info btn-sm"><i class="bi bi-eye"></i> Ver</a>
                </td>
            </tr>
            {% empty %}
            <tr>
                <td colspan="7" class="text-center">No hay FUIDs registrados.</td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
</main>
<footer>
    <p>&copy; {{ current_year }} Hospital del Sarare - Central de Archivos del Sarare.</p>
</footer>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', () => {
        // Animar el contenedor principal con Anime.js
        anime({
            targets: '#mainContainer',
            opacity: [0,1],
            duration: 800,
            easing: 'easeOutExpo'
        });

        // Animar las filas de la tabla
        anime({
            targets: '#fuidTable tbody tr',
            opacity: [0,1],
            translateY: [20,0],
            duration: 500,
            delay: anime.stagger(100),
            easing: 'easeOutExpo'
        });

        // Animar el navbar
        anime({
            targets: 'nav.navbar',
            opacity: [0,1],
            duration: 500,
            easing: 'easeOutExpo'
        });
    });
</script>
</body>
</html>

<!-- python manage.py makemigrations
python manage.py migrate -->
